var s=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var u=(t,e,o)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,d=(t,e)=>{for(var o in e||(e={}))c.call(e,o)&&u(t,o,e[o]);if(h)for(var o of h(e))O.call(e,o)&&u(t,o,e[o]);return t};var i=(t,e)=>{for(var o in e)s(t,o,{get:e[o],enumerable:!0})},P=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of y(e))!c.call(t,n)&&n!==o&&s(t,n,{get:()=>e[n],enumerable:!(r=f(e,n))||r.enumerable});return t};var a=t=>P(s({},"__esModule",{value:!0}),t);var b={};i(b,{bridge:()=>S});module.exports=a(b);function m(t){let e=t.status;return e>=200&&e<=299?t.json():t.json().then(o=>{throw typeof o=="object"?o.message?new Error(o.message):o:new Error(o)})}var l=(t,e,o)=>{if(t.method==="GET"){let r=new URLSearchParams(e).toString();return fetch(t.url+r,d({method:t.method},o)).then(m)}return fetch(t.url,{body:JSON.stringify(e),method:t.method}).then(m)},g=(t,e,o)=>{e.method==="GET"?t.get(e.url,r=>e(r.query,o)):t[e.method.toLocaleLowerCase()](e.url,r=>e(JSON.parse(r.body),o))},E=({method:t,schema:e,url:o})=>{let r=(n,T)=>T(e.dto(n));return r.schema=e,r.url=o,r.method=t,r},S={api:E,fetch:l,use:g};
