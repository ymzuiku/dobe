var m=Object.defineProperty;var n=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var s=(o,e,t)=>e in o?m(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,h=(o,e)=>{for(var t in e||(e={}))T.call(e,t)&&s(o,t,e[t]);if(n)for(var t of n(e))f.call(e,t)&&s(o,t,e[t]);return o};function u(o){let e=o.status;return e>=200&&e<=299?o.json():o.json().then(t=>{throw typeof t=="object"?t.message?new Error(t.message):t:new Error(t)})}var y=(o,e,t)=>{if(o.method==="GET"){let r=new URLSearchParams(e).toString();return fetch(o.url+r,h({method:o.method},t)).then(u)}return fetch(o.url,{body:JSON.stringify(e),method:o.method}).then(u)},O=(o,e,t)=>{e.method==="GET"?o.get(e.url,r=>e(r.query,t)):o[e.method.toLocaleLowerCase()](e.url,r=>e(JSON.parse(r.body),t))},i=({method:o,schema:e,url:t})=>{let r=(c,d)=>d(e.dto(c));return r.schema=e,r.url=t,r.method=o,r},a={api:i,fetch:y,use:O};export{a as bridge};
